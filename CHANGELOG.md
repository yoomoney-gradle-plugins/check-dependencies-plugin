# library-plugin

## NEXT_VERSION

## [2.3.0]() (19-04-2017)

Реализован эвристический метод по поиску возможного решения конфликта версий
Суть метода описана ниже на примере.

Предположим, в проекте требуется использовать библиотеку alpha:3.0.
При этом также в проекте используется библиотека omega:2.0, из-за которой происходит конфликт версий: (omega:2.0) --> (beta:2.0) --> (alpha:2.0 -> 3.0).
При этом существуют другие версии библиотеки omega, зависимости которых выглядят следующим образом:
 - (omega:1.0 --> beta:1.0 --> alpha:1.0)
 - (omega:3.0 --> beta:3.0 --> alpha:3.0)
 - (omega:4.0 --> theta:4.0 --> alpha:4.0)
 - (omega:5.0 --> theta:5.0 --> zeta:5.0)

В самом лучшем варианте хотелось бы найти те версии библиотеки omega,
которые ТОЧНО НЕ ИМЕЮТ в качестве прямой/транзитивной зависимости библиотеку alpha с версией, отличной от 3.0,
и предложить пользователю/разработчику попробовать использовать именно их.

Более простая задача, решаемая реализованым эверистическим методом: исключить те версии библиотеки omega,
которые ТОЧНО ИМЕЮТ в качестве прямой/транзитивной зависимости библиотеку alpha с версией, отличной от 3.0,
тем самым исключив их из рассмотрения в качестве возможной замены библиотеки omega текущей версии 2.0.
Также хочется сделать это максимально быстро, даже если библиотека omega имеет много различных версий.

Реализованный алгоритм выглядит следующим образом:
для очередной версии omega:X.0 (где X.0 != 2.0), используя последовательность имен библиотек из конфликтного пути (omega --> beta --> alpha),
пробуем проследовать по аналогичному пути с целью встретить в результате библиотеку alpha версией, отличной от 2.0.
Возможны следующие варианты:
 (1) для версии omega:X.0 существует аналогичный путь зависимостей (с точностью до имен библиотек), как и в случае конфликта,
     который в результате "приводит" к библиотеке alpha с версией, отличной от 3.0. В этом случае МОЖНО УТВЕРЖДАТЬ,
     что данная версия библиотеки НЕ ПОДХОДИТ
 (2) для версии omega:X.0 существует аналогичный путь зависимостей (с точностью до имен библиотек), как и в случае конфликта,
     который в результате "приводит" к библиотеке alpha с версией, равной 3.0. В этом случае МОЖНО ПРЕДПОЛОЖИТЬ, что данная
     версия библиотеки ВОЗМОЖНО ПОДХОДИТ
 (3) для версии omega:X.0 не существует аналогичного путь зависимостей (с точностью до имен библиотек), как и в случае конфликта.
     В этом случае НЕЛЬЗЯ УТВЕРЖДАТЬ, что данная версия библиотеки ТОЧНО НЕ ПОДХОДИТ
В итоге, в качестве замены текушей версии библиотеки omega алгоритм предлагает версии, найденные в вариантах (2) и (3).

Также добавлена возможность фильтрации анализируемых версий библиотек с помощью extended-свойства versionSelectors:
checkDependencies.versionSelectors = ['junit:junit': { it.tokenize(".")[0].toInteger() }]

## [2.2.2]() (19-04-2107)

Реализована жадная загрузка managed-зависимостей до первого резолва зависимостей проекта

## [2.2.1]() (10-04-2107)

Добавлена возможность указания в файле исключений имени библиотеки в формате <group>:<name>

## [2.2.0]() (17-03-2017)

Добавлен вывод полного пути до зависимости, для которой обнаружен конфликт

## [2.1.0]() (17-03-2017)

Добавлена проверка локального файла исключений на наличие неиспользуемых исключений

## [2.0.1]() (03-03-2017)

Обновлены тесты для проверки работы с плагином io.spring.dependency-management версии 1.0.1.RELEASE

## [2.0.0]() (03-03-2017)

Переход на io.spring.dependency-management 1.0.1.RELEASE

## [1.0.0]() (03-03-2017)

Вынес плагин в отдельный репозиторий

## [0.4.3]() (21-02-2017)

Изменено умолчательное имя файла с правилами изменений версий для слуая, когда правла находятся в зип артефакте

## [0.4.2]() (14-02-2017)

Изменено умолчательное имя файла с правилами изменений версий

## [0.4.1]() (14-02-2017)

Исправлена ошибка проверки CheckChangelog, в результате которой неправильно определелялась версия проекта

## [0.4.0]() (10-02-2017)

Улучшена поддержка указания правил исключений проверки изменений версий библиотек в плагине CheckDependenciesPlugin. 
  * Добавлена поддержка чтения файла с правилами из Maven артефакта.
  * Добавлена настройка "excludedConfigurations" позволяющая исключить из проверки указанные конфигурации
  * Теперь указывается список источников, содержащих файлы с правилами. В списке можно указывать: либо путь к файлу локальной 
    системы, либо название мавен артефакта, содержащего файл "libraries_versions_exclusions.properties". При этом допускается 
    указание нескольких файлов с правилами и артефактами. В этом случае правила будут объединяться.

## [0.3.1]() (04-02-2017)

Добавлена поддержка правил исключений проверки изменений версий библиотек в плагине CheckDependenciesPlugin. Теперь опционально 
можно указать для каких библиотек разрешается изменение версий. При этом жестко прописывается: с какой версии на какую разрешено 
изменение.

## [0.3.0]() (01-02-2017)

Добавлена функциональность проверки согласованности версий используемых библиотек с версиями библиотек, зафиксированными в 
стороннем плагине "IO Spring Dependency Management Plugin"

## [0.2.0]() (18-01-2017)

Добавлена функциональность проверки CHANGELOG.md файла на наличие записи о текущей версии библиотеки.

## [0.1.0]() (22-12-2016)

Создана черновая версия общего плагина для библиотек.
Добавлена первая функциональность: публикация readme файла.
